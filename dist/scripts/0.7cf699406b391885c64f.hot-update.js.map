{"version":3,"sources":["webpack:///./app/scripts/app.js?e48d"],"names":["mainModule","elements","cacheDOM","self","document","timer","timer_ru","tags","diagram","diagramWrapper","navigations","work","video","input","form","modal","menu","navigation_teaser","pastDate","Date","currentDate","diff","getTime","FlipClock","clockFace","countdown","words","each","i","text","newData","element","value","attr","color","push","maxValue","container","addSector","data","startAngle","collapse","sectorDeg","skewDeg","rotateDeg","sector","css","append","reduce","prev","curr","addPart","angle","length","rectangle","smooth","on","event","console","log","context","preventDefault","id","top","offset","animate","scrollTop","viewportChecker","classToAdd","callbackFunction","setInterval","removeClass","setTimeout","addClass","parallax","window","scrolled","speed","val","formSend","init","ready"],"mappings":"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","file":"0.7cf699406b391885c64f.hot-update.js","sourcesContent":["import $ from 'jquery';\nimport 'flipclock/compiled/flipclock';\nimport '../libs/jQuery-viewport-checker-1.8.8/src/jquery.viewportchecker';\nimport 'bootstrap/js/modal';\n\n/* Example import node_modules*/\n/* import 'slick-carousel'; */\n\nconst mainModule = (function () {\n\tlet elements = {};\n\n\tconst cacheDOM = function () {\n\t\tconst self = {};\n\n\t\tself.document = $('body, html');\n\t\tself.timer = $('#timer');\n\t\tself.timer_ru = $('#timer_ru');\n\t\tself.tags = $('#tags li');\n\t\tself.diagram = $('#diagram');\n\t\tself.diagramWrapper = $('.diagram__wrapper');\n\t\tself.navigations = $('.navigations');\n\t\tself.work = $('.work-animate');\n\t\tself.video = $('#video-background');\n\t\tself.input = $('.subscribe-form__field');\n\t\tself.form = $('form');\n\t\tself.modal = $('#thank-modal');\n\t\tself.menu = $('.site-navigation');\n\t\tself.navigation_teaser = $('.navigation-teaser');\n\t\t/* self.elementName = $(); */\n\t\treturn self;\n\t};\n\n\t/* Usage element\n\t elements.elementName and othe js code\n\t */\n\n\tconst timer = function () {\n\n\t\t/* Countdown to current date*/\n\t\t/* Set current date */\n\t\tlet pastDate  = new Date(2018, 0, 11, 10, 0, 0, 0);\n\t\t/* Grab the current date */\n\t\tlet currentDate = new Date();\n\t\tlet diff = pastDate.getTime() / 1000 - currentDate.getTime() / 1000;\n\t\tif (diff < 0) {\n\t\t\tdiff = 0;\n\t\t}\n\n\t\telements.timer.FlipClock(diff, {\n\t\t\tclockFace: 'DailyCounter',\n\t\t\tcountdown: true\n\t\t});\n\t\tlet words = ['day', 'hour', 'min', 'sec'];\n\t\t$('#timer .flip-clock-label').each(function (i) {\n\t\t\t$(this).text(words[i]);\n\t\t});\n\t};\n\n\tconst timer_ru = function () {\n\n\t\t/* Countdown to current date*/\n\t\t/* Set current date */\n\t\tlet pastDate  = new Date(2018, 0, 11, 10, 0, 0, 0);\n\t\t/* Grab the current date */\n\t\tlet currentDate = new Date();\n\t\tlet diff = pastDate.getTime() / 1000 - currentDate.getTime() / 1000;\n\t\tif (diff < 0) {\n\t\t\tdiff = 0;\n\t\t}\n\n\t\telements.timer_ru.FlipClock(diff, {\n\t\t\tclockFace: 'DailyCounter',\n\t\t\tcountdown: true\n\t\t});\n\t\tlet words = ['Дни', 'Часы', 'Минуты', 'Секунды'];\n\t\t$('#timer_ru .flip-clock-label').each(function (i) {\n\t\t\t$(this).text(words[i]);\n\t\t});\n\t};\n\n\tconst diagram = function () {\n\t\tconst newData = [];\n\n\t\telements.tags.each(function () {\n\t\t\tlet element = {};\n\t\t\telement.value = +$(this).attr('data-procent');\n\t\t\telement.color = $(this).attr('data-color');\n\t\t\tnewData.push(element);\n\t\t});\n\n\t\tlet maxValue = 25;\n\t\tlet container = elements.diagram;\n\n\t\tlet addSector = function (data, startAngle, collapse) {\n\t\t\tlet sectorDeg = 3.6 * data.value;\n\t\t\tlet skewDeg = 90 + sectorDeg;\n\t\t\tlet rotateDeg = startAngle;\n\t\t\tif (collapse) {\n\t\t\t\tskewDeg++;\n\t\t\t}\n\n\t\t\tlet sector = $('<div>', {\n\t\t\t\t'class': 'sector'\n\t\t\t}).css({\n\t\t\t\t'background': data.color,\n\t\t\t\t'transform': 'rotate(' + rotateDeg + 'deg) skewY(' + skewDeg + 'deg)'\n\t\t\t});\n\t\t\tcontainer.append(sector);\n\n\t\t\treturn startAngle + sectorDeg;\n\t\t};\n\n\t\tnewData.reduce(function (prev, curr) {\n\t\t\treturn (function addPart(data, angle) {\n\t\t\t\tif (data.value <= maxValue) {\n\t\t\t\t\treturn addSector(data, angle, false);\n\t\t\t\t}\n\n\t\t\t\treturn addPart({\n\t\t\t\t\tvalue: data.value - maxValue,\n\t\t\t\t\tcolor: data.color\n\t\t\t\t}, addSector({\n\t\t\t\t\tvalue: maxValue,\n\t\t\t\t\tcolor: data.color,\n\t\t\t\t}, angle, true));\n\t\t\t})(curr, prev);\n\t\t}, 0);\n\n\t\t$(elements.diagramWrapper).append('<ul class=\"diagram__procent\"></ul>');\n\t\tfor (let i = 0; i < newData.length; i++) {\n\t\t\t$('.diagram__procent').append('<li class=\"diagram__lines\"><span class=\"diagram__doten\"></span><p>' + newData[i].value + '%</p></li>');\n\t\t}\n\t};\n\n\tconst rectangle = function() {\n\t\telements.tags.each(function() {\n\t\t\tlet color = $(this).attr('data-color')\n\t\t\t$(this).append('<div class=\"rectangle\" style=\"background-color: ' + color + ';\"></div>');\n\t\t});\n\t}\n\n\tconst smooth = function () {\n\t\tif(elements.navigation_teaser) {\n\t\t\t$(elements.navigation_teaser).on(\"click\",\"a\", function (event) {\n\t\t\t\t$(\".teaser-iframe\").attr('src', 'Baikalika-teaser-RU.pdf#page=3');\n        // $(\".teaser-iframe\").contentWindow.location.reload(true);\n        console.log($(\".teaser-iframe\").context, $(\".teaser-iframe\"))\n\t\t\t});\n\t\t} else {\n\t\t\t$(elements.navigations).on(\"click\",\"a\", function (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tvar id  = $(this).attr('href'),\n\t\t\t\t\ttop = $(id).offset().top;\n\t\t\t\t$(elements.document).animate({scrollTop: top}, 400);\n\t\t\t});\n\t\t}\n\t};\n\n\tconst animate = function() {\n\t\t$(elements.work).viewportChecker({\n\t\t\tclassToAdd: 'work-animate_start-animate',\n\t\t\toffset: 400,\n\t\t\tcallbackFunction: function animate() {\n\t\t\t\tsetInterval(function() {\n\t\t\t\t\t$(elements.work).removeClass('work-animate_start-animate');\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t$(elements.work).addClass('work-animate_start-animate');\n\t\t\t\t\t}, 1500);\n\t\t\t\t}, 23000);\n\t\t\t}\n\t\t});\n\t};\n\n\tconst parallax = function () {\n\t\t$(window).on('load scroll', function () {\n\t\t\tlet scrolled = $(this).scrollTop();\n\t\t\tlet speed = 0.28;\n\t\t\t$(elements.video).css('transform', 'translate(-50%, ' + -(scrolled * speed) + 'px)');\n\t\t});\n\t};\n\n\tconst input = function() {\n\t\telements.input.on('input', function() {\n\t\t\tconsole.log('test');\n\t\t\tif ($(this).val().length > 0) {\n\t\t\t\t$(this).addClass('subscribe-form__field_active');\n\t\t\t} else {\n\t\t\t\t$(this).removeClass('subscribe-form__field_active');\n\t\t\t}\n\t\t});\n\t};\n\n\tconst formSend = function() {\n\t\t$(elements.form).on('submit', function() {\n\t\t\t$(elements.modal).modal('show');\n\t\t});\n\t};\n\n\tconst menu = function() {\n\t\t$(window).on('scroll', function () {\n\t\t\tif ($(window).scrollTop() > 50) {\n\t\t\t\t$(elements.menu).addClass('site-navigation--fixed');\n\t\t\t} else {\n\t\t\t\t$(elements.menu).removeClass('site-navigation--fixed');\n\t\t\t}\n\t\t});\n\t};\n\n\t/* Example function\n\t const exampleFunction = function () {\n\t do code\n\t }\n\t */\n\n\t/* Declarate function in array */\n\tconst init = function () {\n\t\telements = cacheDOM();\n\t\ttimer();\n\t\ttimer_ru();\n\t\tdiagram();\n\t\trectangle();\n\t\tsmooth();\n\t\tanimate();\n\t\tparallax();\n\t\tinput();\n\t\tformSend();\n\t\tmenu();\n\t\t/* exampleFunction(); */\n\t};\n\n\treturn {\n\t\tinit\n\t};\n})();\n\n/* Initilisation function */\n\n$(document).ready(function () {\n\tmainModule.init();\n});\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./app/scripts/app.js"],"sourceRoot":""}